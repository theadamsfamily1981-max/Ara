# OpenOCD Configuration for ATCA Boards with Intel/Altera FPGAs
# Common in older telecom equipment
#
# Usage: openocd -f atca_altera.cfg

# ============================================================================
# JTAG Adapter Configuration
# ============================================================================

# ATCA boards with Altera FPGAs often use USB-Blaster or JTAG headers
adapter driver ftdi
ftdi_vid_pid 0x0403 0x6010

ftdi_layout_init 0x0088 0x008b
ftdi_layout_signal nTRST -data 0x0010 -oe 0x0010
ftdi_layout_signal nSRST -data 0x0020 -oe 0x0020

adapter speed 5000

# ============================================================================
# Common ATCA FPGA Configurations
# ============================================================================

# Stratix IV (Common in older ATCA, pre-2015)
# IDCODE: 0x020F40DD (Stratix IV GX), 0x024010DD (Stratix IV E)
jtag newtap stratix4 tap -irlen 10 -expected-id 0x020F40DD -expected-id 0x024010DD

# Arria 10 (Mid-range ATCA, 2015-2020)
# IDCODE: 0x02E020DD (Arria 10 GX), 0x02E120DD (Arria 10 SX)
# jtag newtap arria10 tap -irlen 10 -expected-id 0x02E020DD -expected-id 0x02E120DD

# Stratix V (High-end ATCA, 2012-2018)
# IDCODE: 0x02B020DD (Stratix V GX), 0x02B150DD (Stratix V GS)
# jtag newtap stratix5 tap -irlen 10 -expected-id 0x02B020DD -expected-id 0x02B150DD

target create atca_fpga.fpga testee -chain-position stratix4.tap

# ============================================================================
# ATCA-Specific Altera Boards
# ============================================================================

# Common ATCA boards with Altera FPGAs:
#
# 1. Mercury CAM-8110 (Stratix IV GX)
#    - Quad 10GbE
#    - 16GB DDR3
#    - PCIe Gen2 x8 backplane
#
# 2. Advantech MIC-3395 (Arria 10 GX)
#    - 40GbE support
#    - AMC.1 module support
#
# 3. NAT Semi NSC-ATCA-3210 (Stratix V GX)
#    - High-end packet processing
#    - 128GB DDR4 (yes, on an ATCA board!)
#
# 4. Trenton TRC-ATCA-7500 (Arria 10 SX with ARM cores)
#    - Embedded SoC features

# ============================================================================
# Flash Configuration
# ============================================================================

# Altera ATCA boards typically use:
# - CFI Flash (Common Flash Interface)
# - EPCQ (Quad SPI) for Arria 10/Stratix 10

# flash bank atca.flash cfi 0x00000000 0x8000000 2 2 atca_fpga.fpga

# ============================================================================
# Useful Commands
# ============================================================================

# Use Quartus Programmer for Altera ATCA boards:
#   quartus_pgm -c USB-Blaster -m jtag -o "p;bitstream.sof"
